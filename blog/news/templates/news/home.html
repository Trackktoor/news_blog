{% extends 'base.html' %}

{% block title %} Главная {% endblock %}

{% block styles %}
    <link rel="stylesheet" href="../../../static/css/home_styles.css">
{% endblock %}

{% block content %}
    {% for post in posts %}
        <div class="post vstack gap-2 col-md-5 mx-auto mt-5">
            <h2> <a href="{% url 'post_view' post.id %}"> {{ post.title }} </a></h2>
            <span class="date_time">{{ post.date_time }}</span> 
            <span class="views">Просмотры: {{ post.total_views }}</span><br>
            <div class="content d-inline-block text-truncate" style="max-width: 300px;">
                {{ post.content|slice:":100" }}
            </div>
        </div>
    {% endfor %}
    <div class="nav_paginate">
        <a href="{% url 'home_view__paginate' page_paginator=1 %}">Первая</a>
        {% if page.has_previous %}
            
            <a href="{% url 'home_view__paginate' page_paginator=page.previous_page_number %}">Предыдущая</a>
        {% endif %}

        <div id="page_of_pages">Страница {{ page.number }} из {{ page.paginator.num_pages }}</div>

        {% if page.has_next %}
            <a href="{% url 'home_view__paginate' page_paginator=page.next_page_number %}">Следующая</a>
            <a href="{% url 'home_view__paginate' page_paginator=page.paginator.num_pages %}">Последняя</a>

        {% endif %}
    </div>

{% endblock %}